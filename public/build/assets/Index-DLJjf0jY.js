import{p as f,q as S,n as y,c as l,o,a as u,b as D,h as C,w as _,d as t,f as m,i as b,g as N,F as x,r as v,t as r,s as V}from"./app-CkCyHcg3.js";import{_ as A}from"./AuthenticatedLayout-5UPp7qdS.js";import{l as I,_ as j}from"./lodash-0Lbb6yDq.js";import"./ApplicationLogo-DU-HNbHc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"py-12"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},L={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},T={class:"p-6 text-gray-900"},$={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},E={class:"md:col-span-2"},F={class:"overflow-x-auto"},H={class:"min-w-full divide-y divide-gray-200"},K={class:"bg-white divide-y divide-gray-200"},O={class:"px-6 py-4"},U={class:"px-6 py-4"},q={class:"px-6 py-4"},J={class:"px-6 py-4"},M={class:"flex items-center justify-center gap-1"},P=["onClick"],G={class:"px-6 py-4"},Q={key:0},R={class:"mt-6"},st={__name:"Index",props:{reportData:Object,filterDate:String,filters:Object},setup(d){const i=d,c=f(i.filterDate),p=f(i.filters.search||""),w=["Hadir","Sakit","Izin","Alfa"];S([c,p],I.debounce(([n,e])=>{y.get(route("reports.attendance.index"),{date:n,search:e},{preserveState:!0,replace:!0})},300));const k=(n,e)=>{y.post(route("reports.attendance.updateStatus"),{student_id:n,status:e,date:i.filterDate},{preserveState:!0,preserveScroll:!0})};return(n,e)=>(o(),l(x,null,[u(D(C),{title:"Laporan Absensi"}),u(A,null,{header:_(()=>[...e[2]||(e[2]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Laporan Kehadiran Siswa",-1)])]),default:_(()=>{var h;return[t("div",z,[t("div",B,[t("div",L,[t("div",T,[t("div",$,[t("div",null,[e[3]||(e[3]=t("label",{for:"filter_date"},"Pilih Tanggal:",-1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),type:"date",id:"filter_date",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[b,c.value]])]),t("div",E,[e[4]||(e[4]=t("label",{for:"search"},"Cari Siswa:",-1)),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>p.value=s),type:"text",id:"search",placeholder:"Cari nama atau NIS...",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},null,512),[[b,p.value]])])]),t("div",F,[t("table",H,[e[6]||(e[6]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left"},"No"),t("th",{class:"px-6 py-3 text-left"},"Nama Siswa"),t("th",{class:"px-6 py-3 text-left"},"Kelas"),t("th",{class:"px-6 py-3 text-center"},"Status"),t("th",{class:"px-6 py-3 text-left"},"Jam Absen")])],-1)),t("tbody",K,[(o(!0),l(x,null,v(((h=d.reportData)==null?void 0:h.data)||[],(s,g)=>(o(),l("tr",{key:(s==null?void 0:s.id)||g},[t("td",O,r(g+1),1),t("td",U,r(s.name),1),t("td",q,r(s.class),1),t("td",J,[t("div",M,[(o(),l(x,null,v(w,a=>t("button",{key:a,onClick:W=>k(s.id,a),class:V(["px-2 py-1 text-xs rounded-md focus:outline-none",{"bg-green-500 text-white":s.status===a&&a==="Hadir","bg-blue-500 text-white":s.status===a&&a==="Sakit","bg-yellow-500 text-white":s.status===a&&a==="Izin","bg-red-500 text-white":s.status===a&&a==="Alfa","bg-gray-200 text-gray-600 hover:bg-gray-300":s.status!==a}])},r(a),11,P)),64))])]),t("td",G,r(s.scan_time),1)]))),128)),d.reportData.data.length===0?(o(),l("tr",Q,[...e[5]||(e[5]=[t("td",{colspan:"5",class:"text-center py-4"},"Tidak ada data absensi untuk tanggal yang dipilih.",-1)])])):N("",!0)])])]),t("div",R,[u(j,{links:d.reportData.links},null,8,["links"])])])])])])]}),_:1})],64))}};export{st as default};
